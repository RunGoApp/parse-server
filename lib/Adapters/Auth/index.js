'use strict';

var _AdapterLoader = require('../AdapterLoader');

var _AdapterLoader2 = _interopRequireDefault(_AdapterLoader);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

const apple = require("./apple");
const gcenter = require("./gcenter");
const facebook = require('./facebook');
const facebookaccountkit = require('./facebookaccountkit');
const instagram = require("./instagram");
const linkedin = require("./linkedin");
const meetup = require("./meetup");
const google = require("./google");
const github = require("./github");
const twitter = require("./twitter");
const spotify = require("./spotify");
const digits = require("./twitter"); // digits tokens are validated by twitter
const janrainengage = require("./janrainengage");
const janraincapture = require("./janraincapture");
const vkontakte = require("./vkontakte");
const qq = require("./qq");
const wechat = require("./wechat");
const weibo = require("./weibo");

const anonymous = {
  validateAuthData: () => {
    return Promise.resolve();
  },
  validateAppId: () => {
    return Promise.resolve();
  }
};

const providers = {
  apple,
  gcenter,
  facebook,
  facebookaccountkit,
  instagram,
  linkedin,
  meetup,
  google,
  github,
  twitter,
  spotify,
  anonymous,
  digits,
  janrainengage,
  janraincapture,
  vkontakte,
  qq,
  wechat,
  weibo
};

function authDataValidator(adapter, appIds, options) {
  return function (authData) {
    return adapter.validateAuthData(authData, options).then(() => {
      if (appIds) {
        return adapter.validateAppId(appIds, authData, options);
      }
      return Promise.resolve();
    });
  };
}

function loadAuthAdapter(provider, authOptions) {
  const defaultAdapter = providers[provider];
  const adapter = Object.assign({}, defaultAdapter);
  const providerOptions = authOptions[provider];

  if (!defaultAdapter && !providerOptions) {
    return;
  }

  const appIds = providerOptions ? providerOptions.appIds : undefined;

  // Try the configuration methods
  if (providerOptions) {
    const optionalAdapter = (0, _AdapterLoader2.default)(providerOptions, undefined, providerOptions);
    if (optionalAdapter) {
      ['validateAuthData', 'validateAppId'].forEach(key => {
        if (optionalAdapter[key]) {
          adapter[key] = optionalAdapter[key];
        }
      });
    }
  }

  if (!adapter.validateAuthData || !adapter.validateAppId) {
    return;
  }

  return { adapter, appIds, providerOptions };
}

module.exports = function (authOptions = {}, enableAnonymousUsers = true) {
  let _enableAnonymousUsers = enableAnonymousUsers;
  const setEnableAnonymousUsers = function (enable) {
    _enableAnonymousUsers = enable;
  };
  // To handle the test cases on configuration
  const getValidatorForProvider = function (provider) {

    if (provider === 'anonymous' && !_enableAnonymousUsers) {
      return;
    }

    const {
      adapter,
      appIds,
      providerOptions
    } = loadAuthAdapter(provider, authOptions);

    return authDataValidator(adapter, appIds, providerOptions);
  };

  return Object.freeze({
    getValidatorForProvider,
    setEnableAnonymousUsers
  });
};

module.exports.loadAuthAdapter = loadAuthAdapter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9BdXRoL2luZGV4LmpzIl0sIm5hbWVzIjpbIl9BZGFwdGVyTG9hZGVyIiwicmVxdWlyZSIsIl9BZGFwdGVyTG9hZGVyMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcGxlIiwiZ2NlbnRlciIsImZhY2Vib29rIiwiZmFjZWJvb2thY2NvdW50a2l0IiwiaW5zdGFncmFtIiwibGlua2VkaW4iLCJtZWV0dXAiLCJnb29nbGUiLCJnaXRodWIiLCJ0d2l0dGVyIiwic3BvdGlmeSIsImRpZ2l0cyIsImphbnJhaW5lbmdhZ2UiLCJqYW5yYWluY2FwdHVyZSIsInZrb250YWt0ZSIsInFxIiwid2VjaGF0Iiwid2VpYm8iLCJhbm9ueW1vdXMiLCJ2YWxpZGF0ZUF1dGhEYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ2YWxpZGF0ZUFwcElkIiwicHJvdmlkZXJzIiwiYXV0aERhdGFWYWxpZGF0b3IiLCJhZGFwdGVyIiwiYXBwSWRzIiwib3B0aW9ucyIsImF1dGhEYXRhIiwidGhlbiIsImxvYWRBdXRoQWRhcHRlciIsInByb3ZpZGVyIiwiYXV0aE9wdGlvbnMiLCJkZWZhdWx0QWRhcHRlciIsIk9iamVjdCIsImFzc2lnbiIsInByb3ZpZGVyT3B0aW9ucyIsInVuZGVmaW5lZCIsIm9wdGlvbmFsQWRhcHRlciIsImZvckVhY2giLCJrZXkiLCJtb2R1bGUiLCJleHBvcnRzIiwiZW5hYmxlQW5vbnltb3VzVXNlcnMiLCJfZW5hYmxlQW5vbnltb3VzVXNlcnMiLCJzZXRFbmFibGVBbm9ueW1vdXNVc2VycyIsImVuYWJsZSIsImdldFZhbGlkYXRvckZvclByb3ZpZGVyIiwiZnJlZXplIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxpQkFBaUJDLFFBQVEsa0JBQVIsQ0FBckI7O0FBRUEsSUFBSUMsa0JBQWtCQyx1QkFBdUJILGNBQXZCLENBQXRCOztBQUVBLFNBQVNHLHNC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LCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfQWRhcHRlckxvYWRlciA9IHJlcXVpcmUoJy4uL0FkYXB0ZXJMb2FkZXInKTtcblxudmFyIF9BZGFwdGVyTG9hZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FkYXB0ZXJMb2FkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCBhcHBsZSA9IHJlcXVpcmUoXCIuL2FwcGxlXCIpO1xuY29uc3QgZ2NlbnRlciA9IHJlcXVpcmUoXCIuL2djZW50ZXJcIik7XG5jb25zdCBmYWNlYm9vayA9IHJlcXVpcmUoJy4vZmFjZWJvb2snKTtcbmNvbnN0IGZhY2Vib29rYWNjb3VudGtpdCA9IHJlcXVpcmUoJy4vZmFjZWJvb2thY2NvdW50a2l0Jyk7XG5jb25zdCBpbnN0YWdyYW0gPSByZXF1aXJlKFwiLi9pbnN0YWdyYW1cIik7XG5jb25zdCBsaW5rZWRpbiA9IHJlcXVpcmUoXCIuL2xpbmtlZGluXCIpO1xuY29uc3QgbWVldHVwID0gcmVxdWlyZShcIi4vbWVldHVwXCIpO1xuY29uc3QgZ29vZ2xlID0gcmVxdWlyZShcIi4vZ29vZ2xlXCIpO1xuY29uc3QgZ2l0aHViID0gcmVxdWlyZShcIi4vZ2l0aHViXCIpO1xuY29uc3QgdHdpdHRlciA9IHJlcXVpcmUoXCIuL3R3aXR0ZXJcIik7XG5jb25zdCBzcG90aWZ5ID0gcmVxdWlyZShcIi4vc3BvdGlmeVwiKTtcbmNvbnN0IGRpZ2l0cyA9IHJlcXVpcmUoXCIuL3R3aXR0ZXJcIik7IC8vIGRpZ2l0cyB0b2tlbnMgYXJlIHZhbGlkYXRlZCBieSB0d2l0dGVyXG5jb25zdCBqYW5yYWluZW5nYWdlID0gcmVxdWlyZShcIi4vamFucmFpbmVuZ2FnZVwiKTtcbmNvbnN0IGphbnJhaW5jYXB0dXJlID0gcmVxdWlyZShcIi4vamFucmFpbmNhcHR1cmVcIik7XG5jb25zdCB2a29udGFrdGUgPSByZXF1aXJlKFwiLi92a29udGFrdGVcIik7XG5jb25zdCBxcSA9IHJlcXVpcmUoXCIuL3FxXCIpO1xuY29uc3Qgd2VjaGF0ID0gcmVxdWlyZShcIi4vd2VjaGF0XCIpO1xuY29uc3Qgd2VpYm8gPSByZXF1aXJlKFwiLi93ZWlib1wiKTtcblxuY29uc3QgYW5vbnltb3VzID0ge1xuICB2YWxpZGF0ZUF1dGhEYXRhOiAoKSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9LFxuICB2YWxpZGF0ZUFwcElkOiAoKSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59O1xuXG5jb25zdCBwcm92aWRlcnMgPSB7XG4gIGFwcGxlLFxuICBnY2VudGVyLFxuICBmYWNlYm9vayxcbiAgZmFjZWJvb2thY2NvdW50a2l0LFxuICBpbnN0YWdyYW0sXG4gIGxpbmtlZGluLFxuICBtZWV0dXAsXG4gIGdvb2dsZSxcbiAgZ2l0aHViLFxuICB0d2l0dGVyLFxuICBzcG90aWZ5LFxuICBhbm9ueW1vdXMsXG4gIGRpZ2l0cyxcbiAgamFucmFpbmVuZ2FnZSxcbiAgamFucmFpbmNhcHR1cmUsXG4gIHZrb250YWt0ZSxcbiAgcXEsXG4gIHdlY2hhdCxcbiAgd2VpYm9cbn07XG5cbmZ1bmN0aW9uIGF1dGhEYXRhVmFsaWRhdG9yKGFkYXB0ZXIsIGFwcElkcywgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gKGF1dGhEYXRhKSB7XG4gICAgcmV0dXJuIGFkYXB0ZXIudmFsaWRhdGVBdXRoRGF0YShhdXRoRGF0YSwgb3B0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICBpZiAoYXBwSWRzKSB7XG4gICAgICAgIHJldHVybiBhZGFwdGVyLnZhbGlkYXRlQXBwSWQoYXBwSWRzLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGxvYWRBdXRoQWRhcHRlcihwcm92aWRlciwgYXV0aE9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdEFkYXB0ZXIgPSBwcm92aWRlcnNbcHJvdmlkZXJdO1xuICBjb25zdCBhZGFwdGVyID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEFkYXB0ZXIpO1xuICBjb25zdCBwcm92aWRlck9wdGlvbnMgPSBhdXRoT3B0aW9uc1twcm92aWRlcl07XG5cbiAgaWYgKCFkZWZhdWx0QWRhcHRlciAmJiAhcHJvdmlkZXJPcHRpb25zKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYXBwSWRzID0gcHJvdmlkZXJPcHRpb25zID8gcHJvdmlkZXJPcHRpb25zLmFwcElkcyA6IHVuZGVmaW5lZDtcblxuICAvLyBUcnkgdGhlIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBpZiAocHJvdmlkZXJPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0aW9uYWxBZGFwdGVyID0gKDAsIF9BZGFwdGVyTG9hZGVyMi5kZWZhdWx0KShwcm92aWRlck9wdGlvbnMsIHVuZGVmaW5lZCwgcHJvdmlkZXJPcHRpb25zKTtcbiAgICBpZiAob3B0aW9uYWxBZGFwdGVyKSB7XG4gICAgICBbJ3ZhbGlkYXRlQXV0aERhdGEnLCAndmFsaWRhdGVBcHBJZCddLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbmFsQWRhcHRlcltrZXldKSB7XG4gICAgICAgICAgYWRhcHRlcltrZXldID0gb3B0aW9uYWxBZGFwdGVyW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICghYWRhcHRlci52YWxpZGF0ZUF1dGhEYXRhIHx8ICFhZGFwdGVyLnZhbGlkYXRlQXBwSWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4geyBhZGFwdGVyLCBhcHBJZHMsIHByb3ZpZGVyT3B0aW9ucyB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhdXRoT3B0aW9ucyA9IHt9LCBlbmFibGVBbm9ueW1vdXNVc2VycyA9IHRydWUpIHtcbiAgbGV0IF9lbmFibGVBbm9ueW1vdXNVc2VycyA9IGVuYWJsZUFub255bW91c1VzZXJzO1xuICBjb25zdCBzZXRFbmFibGVBbm9ueW1vdXNVc2VycyA9IGZ1bmN0aW9uIChlbmFibGUpIHtcbiAgICBfZW5hYmxlQW5vbnltb3VzVXNlcnMgPSBlbmFibGU7XG4gIH07XG4gIC8vIFRvIGhhbmRsZSB0aGUgdGVzdCBjYXNlcyBvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IGdldFZhbGlkYXRvckZvclByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG5cbiAgICBpZiAocHJvdmlkZXIgPT09ICdhbm9ueW1vdXMnICYmICFfZW5hYmxlQW5vbnltb3VzVXNlcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBhZGFwdGVyLFxuICAgICAgYXBwSWRzLFxuICAgICAgcHJvdmlkZXJPcHRpb25zXG4gICAgfSA9IGxvYWRBdXRoQWRhcHRlcihwcm92aWRlciwgYXV0aE9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIGF1dGhEYXRhVmFsaWRhdG9yKGFkYXB0ZXIsIGFwcElkcywgcHJvdmlkZXJPcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgZ2V0VmFsaWRhdG9yRm9yUHJvdmlkZXIsXG4gICAgc2V0RW5hYmxlQW5vbnltb3VzVXNlcnNcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5sb2FkQXV0aEFkYXB0ZXIgPSBsb2FkQXV0aEFkYXB0ZXI7Il19